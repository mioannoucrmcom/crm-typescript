/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 * @generated-id: 4c06380f25b2
 */

import * as z from "zod/v4-mini";
import { remap as remap$ } from "../../lib/primitives.js";
import { safeParse } from "../../lib/schemas.js";
import { ClosedEnum } from "../../types/enums.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import * as types from "../../types/primitives.js";
import { SDKValidationError } from "../errors/sdk-validation-error.js";

export type ComCrmPayoutSelfServiceResourceCreateSecurity = {
  publicAPIKey: string;
};

/**
 * Available payment method types
 */
export const ComCrmPayoutSelfServiceResourceCreateType = {
  Cash: "CASH",
  Card: "CARD",
  Account: "ACCOUNT",
  AccountDebit: "ACCOUNT_DEBIT",
  Wallet: "WALLET",
  Settle: "SETTLE",
  Cheque: "CHEQUE",
  ElectronicTransfer: "ELECTRONIC_TRANSFER",
  CrmWallet: "CRM_WALLET",
  OneTimeCardPayment: "ONE_TIME_CARD_PAYMENT",
} as const;
/**
 * Available payment method types
 */
export type ComCrmPayoutSelfServiceResourceCreateType = ClosedEnum<
  typeof ComCrmPayoutSelfServiceResourceCreateType
>;

/**
 * The payment method that will be used to return back money to the contact
 */
export type ComCrmPayoutSelfServiceResourceCreatePaymentMethod = {
  /**
   * The unique identifier of the contac'ts payment method. Applicable and required when the select payment method type is either a Card, an Account Debit or a Wallet.
   */
  id: string;
  /**
   * Available payment method types
   */
  type: ComCrmPayoutSelfServiceResourceCreateType;
};

export type ComCrmPayoutSelfServiceResourceCreateRequest = {
  /**
   * The wallet on which the financial transaction will be posted against to
   */
  walletId?: string | undefined;
  /**
   * The amount of the payout. The amount is in the account/wallet's currency
   */
  amount: number;
  /**
   * The payment method that will be used to return back money to the contact
   */
  paymentMethod: ComCrmPayoutSelfServiceResourceCreatePaymentMethod;
  /**
   * Any notes related to the financial transaction
   */
  notes?: string | undefined;
};

export type ComCrmPayoutSelfServiceResourceCreateResponse = {
  /**
   * The entity identifier
   */
  id?: string | undefined;
};

/** @internal */
export type ComCrmPayoutSelfServiceResourceCreateSecurity$Outbound = {
  Public_API_key: string;
};

/** @internal */
export const ComCrmPayoutSelfServiceResourceCreateSecurity$outboundSchema:
  z.ZodMiniType<
    ComCrmPayoutSelfServiceResourceCreateSecurity$Outbound,
    ComCrmPayoutSelfServiceResourceCreateSecurity
  > = z.pipe(
    z.object({
      publicAPIKey: z.string(),
    }),
    z.transform((v) => {
      return remap$(v, {
        publicAPIKey: "Public_API_key",
      });
    }),
  );

export function comCrmPayoutSelfServiceResourceCreateSecurityToJSON(
  comCrmPayoutSelfServiceResourceCreateSecurity:
    ComCrmPayoutSelfServiceResourceCreateSecurity,
): string {
  return JSON.stringify(
    ComCrmPayoutSelfServiceResourceCreateSecurity$outboundSchema.parse(
      comCrmPayoutSelfServiceResourceCreateSecurity,
    ),
  );
}

/** @internal */
export const ComCrmPayoutSelfServiceResourceCreateType$outboundSchema:
  z.ZodMiniEnum<typeof ComCrmPayoutSelfServiceResourceCreateType> = z.enum(
    ComCrmPayoutSelfServiceResourceCreateType,
  );

/** @internal */
export type ComCrmPayoutSelfServiceResourceCreatePaymentMethod$Outbound = {
  id: string;
  type: string;
};

/** @internal */
export const ComCrmPayoutSelfServiceResourceCreatePaymentMethod$outboundSchema:
  z.ZodMiniType<
    ComCrmPayoutSelfServiceResourceCreatePaymentMethod$Outbound,
    ComCrmPayoutSelfServiceResourceCreatePaymentMethod
  > = z.object({
    id: z.string(),
    type: ComCrmPayoutSelfServiceResourceCreateType$outboundSchema,
  });

export function comCrmPayoutSelfServiceResourceCreatePaymentMethodToJSON(
  comCrmPayoutSelfServiceResourceCreatePaymentMethod:
    ComCrmPayoutSelfServiceResourceCreatePaymentMethod,
): string {
  return JSON.stringify(
    ComCrmPayoutSelfServiceResourceCreatePaymentMethod$outboundSchema.parse(
      comCrmPayoutSelfServiceResourceCreatePaymentMethod,
    ),
  );
}

/** @internal */
export type ComCrmPayoutSelfServiceResourceCreateRequest$Outbound = {
  wallet_id?: string | undefined;
  amount: number;
  payment_method: ComCrmPayoutSelfServiceResourceCreatePaymentMethod$Outbound;
  notes?: string | undefined;
};

/** @internal */
export const ComCrmPayoutSelfServiceResourceCreateRequest$outboundSchema:
  z.ZodMiniType<
    ComCrmPayoutSelfServiceResourceCreateRequest$Outbound,
    ComCrmPayoutSelfServiceResourceCreateRequest
  > = z.pipe(
    z.object({
      walletId: z.optional(z.string()),
      amount: z.number(),
      paymentMethod: z.lazy(() =>
        ComCrmPayoutSelfServiceResourceCreatePaymentMethod$outboundSchema
      ),
      notes: z.optional(z.string()),
    }),
    z.transform((v) => {
      return remap$(v, {
        walletId: "wallet_id",
        paymentMethod: "payment_method",
      });
    }),
  );

export function comCrmPayoutSelfServiceResourceCreateRequestToJSON(
  comCrmPayoutSelfServiceResourceCreateRequest:
    ComCrmPayoutSelfServiceResourceCreateRequest,
): string {
  return JSON.stringify(
    ComCrmPayoutSelfServiceResourceCreateRequest$outboundSchema.parse(
      comCrmPayoutSelfServiceResourceCreateRequest,
    ),
  );
}

/** @internal */
export const ComCrmPayoutSelfServiceResourceCreateResponse$inboundSchema:
  z.ZodMiniType<ComCrmPayoutSelfServiceResourceCreateResponse, unknown> = z
    .object({
      id: types.optional(types.string()),
    });

export function comCrmPayoutSelfServiceResourceCreateResponseFromJSON(
  jsonString: string,
): SafeParseResult<
  ComCrmPayoutSelfServiceResourceCreateResponse,
  SDKValidationError
> {
  return safeParse(
    jsonString,
    (x) =>
      ComCrmPayoutSelfServiceResourceCreateResponse$inboundSchema.parse(
        JSON.parse(x),
      ),
    `Failed to parse 'ComCrmPayoutSelfServiceResourceCreateResponse' from JSON`,
  );
}
