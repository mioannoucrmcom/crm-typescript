/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4-mini";
import { safeParse } from "../../lib/schemas.js";
import { blobLikeSchema } from "../../types/blobs.js";
import { ClosedEnum } from "../../types/enums.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import * as types from "../../types/primitives.js";
import { SDKValidationError } from "../errors/sdk-validation-error.js";

export type ComCrmFileSelfServiceResourceUploadFileFile = {
  fileName: string;
  content: ReadableStream<Uint8Array> | Blob | ArrayBuffer | Uint8Array;
};

/**
 * The file being uploaded is for this entity. The following types will be automatically deleted from the system after 1 week: ACCOUNT_STATEMENTS, INSIGHTS, REPORTS, SEGMENT_CONTACTS, PASSES.
 */
export const FileEntityType = {
  Contacts: "CONTACTS",
  Orders: "ORDERS",
  Leads: "LEADS",
  ServiceRequests: "SERVICE_REQUESTS",
  Imports: "IMPORTS",
  ImportsError: "IMPORTS_ERROR",
  AccountStatements: "ACCOUNT_STATEMENTS",
  Insights: "INSIGHTS",
  Reports: "REPORTS",
  SegmentContacts: "SEGMENT_CONTACTS",
  Passes: "PASSES",
  Other: "OTHER",
} as const;
/**
 * The file being uploaded is for this entity. The following types will be automatically deleted from the system after 1 week: ACCOUNT_STATEMENTS, INSIGHTS, REPORTS, SEGMENT_CONTACTS, PASSES.
 */
export type FileEntityType = ClosedEnum<typeof FileEntityType>;

export type ComCrmFileSelfServiceResourceUploadFileRequest = {
  /**
   * File contents provided via multipart/form-data
   */
  file: ComCrmFileSelfServiceResourceUploadFileFile | Blob;
  /**
   * The file being uploaded is for this entity. The following types will be automatically deleted from the system after 1 week: ACCOUNT_STATEMENTS, INSIGHTS, REPORTS, SEGMENT_CONTACTS, PASSES.
   */
  fileEntityType?: FileEntityType | undefined;
};

/**
 * Created
 */
export type ComCrmFileSelfServiceResourceUploadFileResponse = {
  /**
   * The entity identifier
   */
  id?: string | undefined;
};

/** @internal */
export type ComCrmFileSelfServiceResourceUploadFileFile$Outbound = {
  fileName: string;
  content: ReadableStream<Uint8Array> | Blob | ArrayBuffer | Uint8Array;
};

/** @internal */
export const ComCrmFileSelfServiceResourceUploadFileFile$outboundSchema:
  z.ZodMiniType<
    ComCrmFileSelfServiceResourceUploadFileFile$Outbound,
    ComCrmFileSelfServiceResourceUploadFileFile
  > = z.object({
    fileName: z.string(),
    content: z.union([
      z.custom<ReadableStream<Uint8Array>>(x => x instanceof ReadableStream),
      z.custom<Blob>(x => x instanceof Blob),
      z.custom<ArrayBuffer>(x => x instanceof ArrayBuffer),
      z.custom<Uint8Array>(x => x instanceof Uint8Array),
    ]),
  });

export function comCrmFileSelfServiceResourceUploadFileFileToJSON(
  comCrmFileSelfServiceResourceUploadFileFile:
    ComCrmFileSelfServiceResourceUploadFileFile,
): string {
  return JSON.stringify(
    ComCrmFileSelfServiceResourceUploadFileFile$outboundSchema.parse(
      comCrmFileSelfServiceResourceUploadFileFile,
    ),
  );
}

/** @internal */
export const FileEntityType$outboundSchema: z.ZodMiniEnum<
  typeof FileEntityType
> = z.enum(FileEntityType);

/** @internal */
export type ComCrmFileSelfServiceResourceUploadFileRequest$Outbound = {
  file: ComCrmFileSelfServiceResourceUploadFileFile$Outbound | Blob;
  fileEntityType?: string | undefined;
};

/** @internal */
export const ComCrmFileSelfServiceResourceUploadFileRequest$outboundSchema:
  z.ZodMiniType<
    ComCrmFileSelfServiceResourceUploadFileRequest$Outbound,
    ComCrmFileSelfServiceResourceUploadFileRequest
  > = z.object({
    file: z.union([
      z.lazy(() => ComCrmFileSelfServiceResourceUploadFileFile$outboundSchema),
      blobLikeSchema,
    ]),
    fileEntityType: z.optional(FileEntityType$outboundSchema),
  });

export function comCrmFileSelfServiceResourceUploadFileRequestToJSON(
  comCrmFileSelfServiceResourceUploadFileRequest:
    ComCrmFileSelfServiceResourceUploadFileRequest,
): string {
  return JSON.stringify(
    ComCrmFileSelfServiceResourceUploadFileRequest$outboundSchema.parse(
      comCrmFileSelfServiceResourceUploadFileRequest,
    ),
  );
}

/** @internal */
export const ComCrmFileSelfServiceResourceUploadFileResponse$inboundSchema:
  z.ZodMiniType<ComCrmFileSelfServiceResourceUploadFileResponse, unknown> = z
    .object({
      id: types.optional(types.string()),
    });

export function comCrmFileSelfServiceResourceUploadFileResponseFromJSON(
  jsonString: string,
): SafeParseResult<
  ComCrmFileSelfServiceResourceUploadFileResponse,
  SDKValidationError
> {
  return safeParse(
    jsonString,
    (x) =>
      ComCrmFileSelfServiceResourceUploadFileResponse$inboundSchema.parse(
        JSON.parse(x),
      ),
    `Failed to parse 'ComCrmFileSelfServiceResourceUploadFileResponse' from JSON`,
  );
}
