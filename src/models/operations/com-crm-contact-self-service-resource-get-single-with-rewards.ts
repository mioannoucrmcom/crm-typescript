/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4-mini";
import { remap as remap$ } from "../../lib/primitives.js";
import { safeParse } from "../../lib/schemas.js";
import * as openEnums from "../../types/enums.js";
import { OpenEnum } from "../../types/enums.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import * as types from "../../types/primitives.js";
import { SDKValidationError } from "../errors/sdk-validation-error.js";

export type ComCrmContactSelfServiceResourceGetSingleWithRewardsRequest = {
  /**
   * The contact (identifier) whose reward details will be retrieved
   */
  id: string;
};

export type RewardScheme = {
  /**
   * The entity identifier
   */
  id?: string | undefined;
  /**
   * The reward scheme name
   */
  name?: string | undefined;
  /**
   * The date when the contact was signed up on the specific reward scheme
   */
  signedUpOn?: number | undefined;
  /**
   * The email address that was used during sign up (applicable if the reward scheme is a close loop scheme based on email domains)
   */
  emailAddress?: string | undefined;
  /**
   * Defines how customers can sign up to the reward scheme
   */
  signUpOption?: string | undefined;
  /**
   * The code used to verify sign-up against the closed loop reward scheme
   */
  signUpCode?: string | undefined;
};

/**
 * Details about whether the contact can spend or not
 */
export type SpendBlocked = {
  /**
   * The date that the contact's spend blockage was updated
   */
  date?: number | undefined;
  /**
   * Defines whether the contact can spend or not
   */
  status?: boolean | undefined;
};

/**
 * Details on how to maintain the current tier
 */
export type MaintainTier = {
  /**
   * The number of points needed to maintain current tier
   */
  pointsNeeded?: number | undefined;
  /**
   * The date up to which points must be collected by in order to maintain the current tier
   */
  collectedBy?: number | undefined;
};

/**
 * Details about the next tier progression
 */
export type Progress = {
  /**
   * The entity identifier
   */
  id?: string | undefined;
  /**
   * The next tier name
   */
  name?: string | undefined;
  /**
   * Points needed to progress to next tier
   */
  pointsNeeded?: number | undefined;
  /**
   * The date up to which points must be collected in order to progress to next tier
   */
  collectedBy?: number | undefined;
};

/**
 * Information about the creative type
 */
export const RewardTierUsageType = {
  Logo: "LOGO",
  Background: "BACKGROUND",
  Avatar: "AVATAR",
  Hero: "HERO",
  Marketing: "MARKETING",
  Attachment: "ATTACHMENT",
  Profileimage: "PROFILEIMAGE",
  AppleLockscreenIcon: "APPLE_LOCKSCREEN_ICON",
  AppleLogoImage: "APPLE_LOGO_IMAGE",
  AppleStripImage: "APPLE_STRIP_IMAGE",
  GoogleLogoImage: "GOOGLE_LOGO_IMAGE",
  GoogleStripImage: "GOOGLE_STRIP_IMAGE",
  LandingPageLogoImage: "LANDING_PAGE_LOGO_IMAGE",
  LandingPageHeaderImage: "LANDING_PAGE_HEADER_IMAGE",
  LandingPageBackgroundImage: "LANDING_PAGE_BACKGROUND_IMAGE",
  DeliveryImage: "DELIVERY_IMAGE",
  PickupImage: "PICKUP_IMAGE",
  DirectSaleImage: "DIRECT_SALE_IMAGE",
  WalletImage: "WALLET_IMAGE",
  LandingPageImage: "LANDING_PAGE_IMAGE",
  AppLogo: "APP_LOGO",
  PartnerLogo: "PARTNER_LOGO",
  Carousel: "CAROUSEL",
  Shortcut: "SHORTCUT",
  ShortcutImage: "SHORTCUT_IMAGE",
  EmbeddedLinkImage: "EMBEDDED_LINK_IMAGE",
  Image: "IMAGE",
  AppLoaderImage: "APP_LOADER_IMAGE",
  MobileBackgroundImage: "MOBILE_BACKGROUND_IMAGE",
} as const;
/**
 * Information about the creative type
 */
export type RewardTierUsageType = OpenEnum<typeof RewardTierUsageType>;

export type RewardTierMedia = {
  /**
   * The transformed creative width
   */
  width?: number | undefined;
  /**
   * The transformed creative height
   */
  height?: number | undefined;
  /**
   * The transformed creative URL
   */
  url?: string | undefined;
};

export type RewardTierCreative = {
  /**
   * The entity identifier
   */
  id?: string | undefined;
  /**
   * the identifier of media
   */
  mediaGroupId?: string | undefined;
  /**
   * Information about the creative type
   */
  usageType?: RewardTierUsageType | undefined;
  /**
   * The creative width
   */
  width?: number | undefined;
  /**
   * The creative height
   */
  height?: number | undefined;
  /**
   * The creative format
   */
  format?: string | undefined;
  /**
   * The creative content URL
   */
  url?: string | undefined;
  /**
   * The creative public identifier
   */
  publicId?: string | undefined;
  /**
   * The media identifier
   */
  mediaId?: string | undefined;
  /**
   * The creative caption used in cases where usage_type=CAROUSEL
   */
  caption?: string | undefined;
  /**
   * The creative sort order used in cases where usage_type=CAROUSEL
   */
  sortOrder?: number | undefined;
  /**
   * Information about the creative transformations
   */
  media?: Array<RewardTierMedia> | undefined;
};

/**
 * Information about the account’s reward tier
 */
export type RewardTier = {
  /**
   * The entity identifier
   */
  id?: string | undefined;
  /**
   * The reward tier name
   */
  name?: string | undefined;
  /**
   * The tier (marketing) colour
   */
  colour?: string | undefined;
  /**
   * The date that the current tier was reached
   */
  achievedDate?: number | undefined;
  /**
   * Points collected during the period
   */
  periodValueUnits?: number | undefined;
  /**
   * Total Lifetime Points
   */
  lifetimeValueUnits?: number | undefined;
  /**
   * Details on how to maintain the current tier
   */
  maintainTier?: MaintainTier | undefined;
  /**
   * Details about the next tier progression
   */
  progress?: Progress | undefined;
  /**
   * Creatives images for marketing includes the primary image and scaled versions to create a srcset
   */
  creatives?: Array<RewardTierCreative> | undefined;
};

/**
 * Information about the creative type
 */
export const TierUsageType = {
  Logo: "LOGO",
  Background: "BACKGROUND",
  Avatar: "AVATAR",
  Hero: "HERO",
  Marketing: "MARKETING",
  Attachment: "ATTACHMENT",
  Profileimage: "PROFILEIMAGE",
  AppleLockscreenIcon: "APPLE_LOCKSCREEN_ICON",
  AppleLogoImage: "APPLE_LOGO_IMAGE",
  AppleStripImage: "APPLE_STRIP_IMAGE",
  GoogleLogoImage: "GOOGLE_LOGO_IMAGE",
  GoogleStripImage: "GOOGLE_STRIP_IMAGE",
  LandingPageLogoImage: "LANDING_PAGE_LOGO_IMAGE",
  LandingPageHeaderImage: "LANDING_PAGE_HEADER_IMAGE",
  LandingPageBackgroundImage: "LANDING_PAGE_BACKGROUND_IMAGE",
  DeliveryImage: "DELIVERY_IMAGE",
  PickupImage: "PICKUP_IMAGE",
  DirectSaleImage: "DIRECT_SALE_IMAGE",
  WalletImage: "WALLET_IMAGE",
  LandingPageImage: "LANDING_PAGE_IMAGE",
  AppLogo: "APP_LOGO",
  PartnerLogo: "PARTNER_LOGO",
  Carousel: "CAROUSEL",
  Shortcut: "SHORTCUT",
  ShortcutImage: "SHORTCUT_IMAGE",
  EmbeddedLinkImage: "EMBEDDED_LINK_IMAGE",
  Image: "IMAGE",
  AppLoaderImage: "APP_LOADER_IMAGE",
  MobileBackgroundImage: "MOBILE_BACKGROUND_IMAGE",
} as const;
/**
 * Information about the creative type
 */
export type TierUsageType = OpenEnum<typeof TierUsageType>;

export type TierMedia = {
  /**
   * The transformed creative width
   */
  width?: number | undefined;
  /**
   * The transformed creative height
   */
  height?: number | undefined;
  /**
   * The transformed creative URL
   */
  url?: string | undefined;
};

export type TierCreative = {
  /**
   * The entity identifier
   */
  id?: string | undefined;
  /**
   * the identifier of media
   */
  mediaGroupId?: string | undefined;
  /**
   * Information about the creative type
   */
  usageType?: TierUsageType | undefined;
  /**
   * The creative width
   */
  width?: number | undefined;
  /**
   * The creative height
   */
  height?: number | undefined;
  /**
   * The creative format
   */
  format?: string | undefined;
  /**
   * The creative content URL
   */
  url?: string | undefined;
  /**
   * The creative public identifier
   */
  publicId?: string | undefined;
  /**
   * The media identifier
   */
  mediaId?: string | undefined;
  /**
   * The creative caption used in cases where usage_type=CAROUSEL
   */
  caption?: string | undefined;
  /**
   * The creative sort order used in cases where usage_type=CAROUSEL
   */
  sortOrder?: number | undefined;
  /**
   * Information about the creative transformations
   */
  media?: Array<TierMedia> | undefined;
};

export type ComCrmContactSelfServiceResourceGetSingleWithRewardsTier = {
  /**
   * The entity identifier
   */
  id?: string | undefined;
  /**
   * The tier name
   */
  name?: string | undefined;
  /**
   * The tier description
   */
  description?: string | undefined;
  /**
   * The tier color (used for commercial purposes on mobile/portal applications)
   */
  color?: string | undefined;
  /**
   * The tier value units (inclusive) that should be met in order to achieve this tier
   */
  valueUnits?: number | undefined;
  /**
   * Details about creatives. A creative is an object that contains all the data required for visually rendering an image responsively, such as the initial image and a number of scale versions of it (srcset)
   */
  creatives?: Array<TierCreative> | undefined;
};

/**
 * Information about the account’s reward tier
 */
export type RewardTiers = {
  /**
   * The entity identifier
   */
  id?: string | undefined;
  /**
   * Defines the conversion rate between real currency and value units
   */
  conversionRate?: number | undefined;
  /**
   * Defines the supported reward tiers
   */
  tiers?:
    | Array<ComCrmContactSelfServiceResourceGetSingleWithRewardsTier>
    | undefined;
};

/**
 * OK
 */
export type ComCrmContactSelfServiceResourceGetSingleWithRewardsResponse = {
  /**
   * The entity identifier
   */
  id?: string | undefined;
  /**
   * Details about the already signed up reward schemes
   */
  rewardSchemes?: Array<RewardScheme> | undefined;
  /**
   * The date when the contact was signed up to a scheme for the first time
   */
  signUpDate?: number | undefined;
  /**
   * Details about whether the contact can spend or not
   */
  spendBlocked?: SpendBlocked | undefined;
  /**
   * Information about the account’s reward tier
   */
  rewardTier?: RewardTier | undefined;
  /**
   * Information about the account’s reward tier
   */
  rewardTiers?: RewardTiers | undefined;
};

/** @internal */
export type ComCrmContactSelfServiceResourceGetSingleWithRewardsRequest$Outbound =
  {
    id: string;
  };

/** @internal */
export const ComCrmContactSelfServiceResourceGetSingleWithRewardsRequest$outboundSchema:
  z.ZodMiniType<
    ComCrmContactSelfServiceResourceGetSingleWithRewardsRequest$Outbound,
    ComCrmContactSelfServiceResourceGetSingleWithRewardsRequest
  > = z.object({
    id: z.string(),
  });

export function comCrmContactSelfServiceResourceGetSingleWithRewardsRequestToJSON(
  comCrmContactSelfServiceResourceGetSingleWithRewardsRequest:
    ComCrmContactSelfServiceResourceGetSingleWithRewardsRequest,
): string {
  return JSON.stringify(
    ComCrmContactSelfServiceResourceGetSingleWithRewardsRequest$outboundSchema
      .parse(comCrmContactSelfServiceResourceGetSingleWithRewardsRequest),
  );
}

/** @internal */
export const RewardScheme$inboundSchema: z.ZodMiniType<RewardScheme, unknown> =
  z.pipe(
    z.object({
      id: types.optional(types.string()),
      name: types.optional(types.string()),
      signed_up_on: types.optional(types.number()),
      email_address: types.optional(types.string()),
      sign_up_option: types.optional(types.string()),
      sign_up_code: types.optional(types.string()),
    }),
    z.transform((v) => {
      return remap$(v, {
        "signed_up_on": "signedUpOn",
        "email_address": "emailAddress",
        "sign_up_option": "signUpOption",
        "sign_up_code": "signUpCode",
      });
    }),
  );

export function rewardSchemeFromJSON(
  jsonString: string,
): SafeParseResult<RewardScheme, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => RewardScheme$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'RewardScheme' from JSON`,
  );
}

/** @internal */
export const SpendBlocked$inboundSchema: z.ZodMiniType<SpendBlocked, unknown> =
  z.object({
    date: types.optional(types.number()),
    status: types.optional(types.boolean()),
  });

export function spendBlockedFromJSON(
  jsonString: string,
): SafeParseResult<SpendBlocked, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => SpendBlocked$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'SpendBlocked' from JSON`,
  );
}

/** @internal */
export const MaintainTier$inboundSchema: z.ZodMiniType<MaintainTier, unknown> =
  z.pipe(
    z.object({
      points_needed: types.optional(types.number()),
      collected_by: types.optional(types.number()),
    }),
    z.transform((v) => {
      return remap$(v, {
        "points_needed": "pointsNeeded",
        "collected_by": "collectedBy",
      });
    }),
  );

export function maintainTierFromJSON(
  jsonString: string,
): SafeParseResult<MaintainTier, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => MaintainTier$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'MaintainTier' from JSON`,
  );
}

/** @internal */
export const Progress$inboundSchema: z.ZodMiniType<Progress, unknown> = z.pipe(
  z.object({
    id: types.optional(types.string()),
    name: types.optional(types.string()),
    points_needed: types.optional(types.number()),
    collected_by: types.optional(types.number()),
  }),
  z.transform((v) => {
    return remap$(v, {
      "points_needed": "pointsNeeded",
      "collected_by": "collectedBy",
    });
  }),
);

export function progressFromJSON(
  jsonString: string,
): SafeParseResult<Progress, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => Progress$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'Progress' from JSON`,
  );
}

/** @internal */
export const RewardTierUsageType$inboundSchema: z.ZodMiniType<
  RewardTierUsageType,
  unknown
> = openEnums.inboundSchema(RewardTierUsageType);

/** @internal */
export const RewardTierMedia$inboundSchema: z.ZodMiniType<
  RewardTierMedia,
  unknown
> = z.object({
  width: types.optional(types.number()),
  height: types.optional(types.number()),
  url: types.optional(types.string()),
});

export function rewardTierMediaFromJSON(
  jsonString: string,
): SafeParseResult<RewardTierMedia, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => RewardTierMedia$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'RewardTierMedia' from JSON`,
  );
}

/** @internal */
export const RewardTierCreative$inboundSchema: z.ZodMiniType<
  RewardTierCreative,
  unknown
> = z.pipe(
  z.object({
    id: types.optional(types.string()),
    media_group_id: types.optional(types.string()),
    usage_type: types.optional(RewardTierUsageType$inboundSchema),
    width: types.optional(types.number()),
    height: types.optional(types.number()),
    format: types.optional(types.string()),
    url: types.optional(types.string()),
    public_id: types.optional(types.string()),
    media_id: types.optional(types.string()),
    caption: types.optional(types.string()),
    sort_order: types.optional(types.number()),
    media: types.optional(z.array(z.lazy(() => RewardTierMedia$inboundSchema))),
  }),
  z.transform((v) => {
    return remap$(v, {
      "media_group_id": "mediaGroupId",
      "usage_type": "usageType",
      "public_id": "publicId",
      "media_id": "mediaId",
      "sort_order": "sortOrder",
    });
  }),
);

export function rewardTierCreativeFromJSON(
  jsonString: string,
): SafeParseResult<RewardTierCreative, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => RewardTierCreative$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'RewardTierCreative' from JSON`,
  );
}

/** @internal */
export const RewardTier$inboundSchema: z.ZodMiniType<RewardTier, unknown> = z
  .pipe(
    z.object({
      id: types.optional(types.string()),
      name: types.optional(types.string()),
      colour: types.optional(types.string()),
      achieved_date: types.optional(types.number()),
      period_value_units: types.optional(types.number()),
      lifetime_value_units: types.optional(types.number()),
      maintain_tier: types.optional(z.lazy(() => MaintainTier$inboundSchema)),
      progress: types.optional(z.lazy(() => Progress$inboundSchema)),
      creatives: types.optional(
        z.array(z.lazy(() => RewardTierCreative$inboundSchema)),
      ),
    }),
    z.transform((v) => {
      return remap$(v, {
        "achieved_date": "achievedDate",
        "period_value_units": "periodValueUnits",
        "lifetime_value_units": "lifetimeValueUnits",
        "maintain_tier": "maintainTier",
      });
    }),
  );

export function rewardTierFromJSON(
  jsonString: string,
): SafeParseResult<RewardTier, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => RewardTier$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'RewardTier' from JSON`,
  );
}

/** @internal */
export const TierUsageType$inboundSchema: z.ZodMiniType<
  TierUsageType,
  unknown
> = openEnums.inboundSchema(TierUsageType);

/** @internal */
export const TierMedia$inboundSchema: z.ZodMiniType<TierMedia, unknown> = z
  .object({
    width: types.optional(types.number()),
    height: types.optional(types.number()),
    url: types.optional(types.string()),
  });

export function tierMediaFromJSON(
  jsonString: string,
): SafeParseResult<TierMedia, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => TierMedia$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'TierMedia' from JSON`,
  );
}

/** @internal */
export const TierCreative$inboundSchema: z.ZodMiniType<TierCreative, unknown> =
  z.pipe(
    z.object({
      id: types.optional(types.string()),
      media_group_id: types.optional(types.string()),
      usage_type: types.optional(TierUsageType$inboundSchema),
      width: types.optional(types.number()),
      height: types.optional(types.number()),
      format: types.optional(types.string()),
      url: types.optional(types.string()),
      public_id: types.optional(types.string()),
      media_id: types.optional(types.string()),
      caption: types.optional(types.string()),
      sort_order: types.optional(types.number()),
      media: types.optional(z.array(z.lazy(() => TierMedia$inboundSchema))),
    }),
    z.transform((v) => {
      return remap$(v, {
        "media_group_id": "mediaGroupId",
        "usage_type": "usageType",
        "public_id": "publicId",
        "media_id": "mediaId",
        "sort_order": "sortOrder",
      });
    }),
  );

export function tierCreativeFromJSON(
  jsonString: string,
): SafeParseResult<TierCreative, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => TierCreative$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'TierCreative' from JSON`,
  );
}

/** @internal */
export const ComCrmContactSelfServiceResourceGetSingleWithRewardsTier$inboundSchema:
  z.ZodMiniType<
    ComCrmContactSelfServiceResourceGetSingleWithRewardsTier,
    unknown
  > = z.pipe(
    z.object({
      id: types.optional(types.string()),
      name: types.optional(types.string()),
      description: types.optional(types.string()),
      color: types.optional(types.string()),
      value_units: types.optional(types.number()),
      creatives: types.optional(
        z.array(z.lazy(() => TierCreative$inboundSchema)),
      ),
    }),
    z.transform((v) => {
      return remap$(v, {
        "value_units": "valueUnits",
      });
    }),
  );

export function comCrmContactSelfServiceResourceGetSingleWithRewardsTierFromJSON(
  jsonString: string,
): SafeParseResult<
  ComCrmContactSelfServiceResourceGetSingleWithRewardsTier,
  SDKValidationError
> {
  return safeParse(
    jsonString,
    (x) =>
      ComCrmContactSelfServiceResourceGetSingleWithRewardsTier$inboundSchema
        .parse(JSON.parse(x)),
    `Failed to parse 'ComCrmContactSelfServiceResourceGetSingleWithRewardsTier' from JSON`,
  );
}

/** @internal */
export const RewardTiers$inboundSchema: z.ZodMiniType<RewardTiers, unknown> = z
  .pipe(
    z.object({
      id: types.optional(types.string()),
      conversion_rate: types.optional(types.number()),
      tiers: types.optional(z.array(z.lazy(() =>
        ComCrmContactSelfServiceResourceGetSingleWithRewardsTier$inboundSchema
      ))),
    }),
    z.transform((v) => {
      return remap$(v, {
        "conversion_rate": "conversionRate",
      });
    }),
  );

export function rewardTiersFromJSON(
  jsonString: string,
): SafeParseResult<RewardTiers, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => RewardTiers$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'RewardTiers' from JSON`,
  );
}

/** @internal */
export const ComCrmContactSelfServiceResourceGetSingleWithRewardsResponse$inboundSchema:
  z.ZodMiniType<
    ComCrmContactSelfServiceResourceGetSingleWithRewardsResponse,
    unknown
  > = z.pipe(
    z.object({
      id: types.optional(types.string()),
      reward_schemes: types.optional(
        z.array(z.lazy(() => RewardScheme$inboundSchema)),
      ),
      sign_up_date: types.optional(types.number()),
      spend_blocked: types.optional(z.lazy(() => SpendBlocked$inboundSchema)),
      reward_tier: types.optional(z.lazy(() => RewardTier$inboundSchema)),
      reward_tiers: types.optional(z.lazy(() => RewardTiers$inboundSchema)),
    }),
    z.transform((v) => {
      return remap$(v, {
        "reward_schemes": "rewardSchemes",
        "sign_up_date": "signUpDate",
        "spend_blocked": "spendBlocked",
        "reward_tier": "rewardTier",
        "reward_tiers": "rewardTiers",
      });
    }),
  );

export function comCrmContactSelfServiceResourceGetSingleWithRewardsResponseFromJSON(
  jsonString: string,
): SafeParseResult<
  ComCrmContactSelfServiceResourceGetSingleWithRewardsResponse,
  SDKValidationError
> {
  return safeParse(
    jsonString,
    (x) =>
      ComCrmContactSelfServiceResourceGetSingleWithRewardsResponse$inboundSchema
        .parse(JSON.parse(x)),
    `Failed to parse 'ComCrmContactSelfServiceResourceGetSingleWithRewardsResponse' from JSON`,
  );
}
