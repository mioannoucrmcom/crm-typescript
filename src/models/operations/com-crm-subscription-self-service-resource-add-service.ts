/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4-mini";
import { remap as remap$ } from "../../lib/primitives.js";
import { safeParse } from "../../lib/schemas.js";
import { ClosedEnum } from "../../types/enums.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import * as types from "../../types/primitives.js";
import { SDKValidationError } from "../errors/sdk-validation-error.js";

export type ComCrmSubscriptionSelfServiceResourceAddServiceSecurity = {
  secretAPIKey: string;
};

/**
 * Unlocks a promotion through a (promotion) pass by providing the pass code
 */
export type ComCrmSubscriptionSelfServiceResourceAddServicePass = {
  /**
   * The pass code
   */
  code: string;
  /**
   * The pass pin. Required only if the pass is assiociated with a pin
   */
  pin?: string | undefined;
};

export type ComCrmSubscriptionSelfServiceResourceAddServiceComponent = {
  /**
   * The component service's identifier. Only termed services can eb specified and as ong as the service meets the bundle's allowed composition
   */
  productId?: string | undefined;
  /**
   * The component service's price terms
   */
  priceTermsId?: string | undefined;
};

export type ComCrmSubscriptionSelfServiceResourceAddServiceDevice = {
  /**
   * The entity identifier that will be created
   */
  id?: string | undefined;
};

export type ComCrmSubscriptionSelfServiceResourceAddServiceService = {
  /**
   * The new service product identifier. The product must either be a termed service or a one-time service
   */
  productId: string;
  /**
   * The service's price terms
   */
  priceTermsId?: string | undefined;
  /**
   * Service quantity. If not specified, then it defaults to 1
   */
  quantity?: number | undefined;
  /**
   * List of component services. Applicable only when the service to be added is a flexible bundle
   */
  components?:
    | Array<ComCrmSubscriptionSelfServiceResourceAddServiceComponent>
    | undefined;
  /**
   * List of device to which the new service can be enabled on
   */
  devices?:
    | Array<ComCrmSubscriptionSelfServiceResourceAddServiceDevice>
    | undefined;
};

/**
 * The payment method’s type
 */
export const ComCrmSubscriptionSelfServiceResourceAddServicePaymentMethodType =
  {
    Card: "CARD",
    AccountDebit: "ACCOUNT_DEBIT",
    Wallet: "WALLET",
    CrmWallet: "CRM_WALLET",
    Cheque: "CHEQUE",
  } as const;
/**
 * The payment method’s type
 */
export type ComCrmSubscriptionSelfServiceResourceAddServicePaymentMethodType =
  ClosedEnum<
    typeof ComCrmSubscriptionSelfServiceResourceAddServicePaymentMethodType
  >;

export type ComCrmSubscriptionSelfServiceResourceAddServiceRequestBody = {
  /**
   * Schedules the addition of the service. The scheduled dat emust be after the current date
   */
  scheduledDate?: number | undefined;
  /**
   * Unlocks a promotion through a (promotion) pass by providing the pass code
   */
  pass?: ComCrmSubscriptionSelfServiceResourceAddServicePass | undefined;
  /**
   * A list of services to be added
   */
  services?:
    | Array<ComCrmSubscriptionSelfServiceResourceAddServiceService>
    | undefined;
  /**
   * One of the contact's payment methods that will be used for automatically paying off the subscription. If not specified, then the primary payment method will be used (if any)
   */
  paymentMethodId?: string | undefined;
  /**
   * The payment method’s type
   */
  paymentMethodType?:
    | ComCrmSubscriptionSelfServiceResourceAddServicePaymentMethodType
    | undefined;
};

export type ComCrmSubscriptionSelfServiceResourceAddServiceRequest = {
  id: string;
  body?: ComCrmSubscriptionSelfServiceResourceAddServiceRequestBody | undefined;
};

export type ComCrmSubscriptionSelfServiceResourceAddServiceResponse = {
  /**
   * The entity identifier
   */
  id?: string | undefined;
};

/** @internal */
export type ComCrmSubscriptionSelfServiceResourceAddServiceSecurity$Outbound = {
  Secret_API_key: string;
};

/** @internal */
export const ComCrmSubscriptionSelfServiceResourceAddServiceSecurity$outboundSchema:
  z.ZodMiniType<
    ComCrmSubscriptionSelfServiceResourceAddServiceSecurity$Outbound,
    ComCrmSubscriptionSelfServiceResourceAddServiceSecurity
  > = z.pipe(
    z.object({
      secretAPIKey: z.string(),
    }),
    z.transform((v) => {
      return remap$(v, {
        secretAPIKey: "Secret_API_key",
      });
    }),
  );

export function comCrmSubscriptionSelfServiceResourceAddServiceSecurityToJSON(
  comCrmSubscriptionSelfServiceResourceAddServiceSecurity:
    ComCrmSubscriptionSelfServiceResourceAddServiceSecurity,
): string {
  return JSON.stringify(
    ComCrmSubscriptionSelfServiceResourceAddServiceSecurity$outboundSchema
      .parse(comCrmSubscriptionSelfServiceResourceAddServiceSecurity),
  );
}

/** @internal */
export type ComCrmSubscriptionSelfServiceResourceAddServicePass$Outbound = {
  code: string;
  pin?: string | undefined;
};

/** @internal */
export const ComCrmSubscriptionSelfServiceResourceAddServicePass$outboundSchema:
  z.ZodMiniType<
    ComCrmSubscriptionSelfServiceResourceAddServicePass$Outbound,
    ComCrmSubscriptionSelfServiceResourceAddServicePass
  > = z.object({
    code: z.string(),
    pin: z.optional(z.string()),
  });

export function comCrmSubscriptionSelfServiceResourceAddServicePassToJSON(
  comCrmSubscriptionSelfServiceResourceAddServicePass:
    ComCrmSubscriptionSelfServiceResourceAddServicePass,
): string {
  return JSON.stringify(
    ComCrmSubscriptionSelfServiceResourceAddServicePass$outboundSchema.parse(
      comCrmSubscriptionSelfServiceResourceAddServicePass,
    ),
  );
}

/** @internal */
export type ComCrmSubscriptionSelfServiceResourceAddServiceComponent$Outbound =
  {
    product_id?: string | undefined;
    price_terms_id?: string | undefined;
  };

/** @internal */
export const ComCrmSubscriptionSelfServiceResourceAddServiceComponent$outboundSchema:
  z.ZodMiniType<
    ComCrmSubscriptionSelfServiceResourceAddServiceComponent$Outbound,
    ComCrmSubscriptionSelfServiceResourceAddServiceComponent
  > = z.pipe(
    z.object({
      productId: z.optional(z.string()),
      priceTermsId: z.optional(z.string()),
    }),
    z.transform((v) => {
      return remap$(v, {
        productId: "product_id",
        priceTermsId: "price_terms_id",
      });
    }),
  );

export function comCrmSubscriptionSelfServiceResourceAddServiceComponentToJSON(
  comCrmSubscriptionSelfServiceResourceAddServiceComponent:
    ComCrmSubscriptionSelfServiceResourceAddServiceComponent,
): string {
  return JSON.stringify(
    ComCrmSubscriptionSelfServiceResourceAddServiceComponent$outboundSchema
      .parse(comCrmSubscriptionSelfServiceResourceAddServiceComponent),
  );
}

/** @internal */
export type ComCrmSubscriptionSelfServiceResourceAddServiceDevice$Outbound = {
  id?: string | undefined;
};

/** @internal */
export const ComCrmSubscriptionSelfServiceResourceAddServiceDevice$outboundSchema:
  z.ZodMiniType<
    ComCrmSubscriptionSelfServiceResourceAddServiceDevice$Outbound,
    ComCrmSubscriptionSelfServiceResourceAddServiceDevice
  > = z.object({
    id: z.optional(z.string()),
  });

export function comCrmSubscriptionSelfServiceResourceAddServiceDeviceToJSON(
  comCrmSubscriptionSelfServiceResourceAddServiceDevice:
    ComCrmSubscriptionSelfServiceResourceAddServiceDevice,
): string {
  return JSON.stringify(
    ComCrmSubscriptionSelfServiceResourceAddServiceDevice$outboundSchema.parse(
      comCrmSubscriptionSelfServiceResourceAddServiceDevice,
    ),
  );
}

/** @internal */
export type ComCrmSubscriptionSelfServiceResourceAddServiceService$Outbound = {
  product_id: string;
  price_terms_id?: string | undefined;
  quantity?: number | undefined;
  components?:
    | Array<ComCrmSubscriptionSelfServiceResourceAddServiceComponent$Outbound>
    | undefined;
  devices?:
    | Array<ComCrmSubscriptionSelfServiceResourceAddServiceDevice$Outbound>
    | undefined;
};

/** @internal */
export const ComCrmSubscriptionSelfServiceResourceAddServiceService$outboundSchema:
  z.ZodMiniType<
    ComCrmSubscriptionSelfServiceResourceAddServiceService$Outbound,
    ComCrmSubscriptionSelfServiceResourceAddServiceService
  > = z.pipe(
    z.object({
      productId: z.string(),
      priceTermsId: z.optional(z.string()),
      quantity: z.optional(z.int()),
      components: z.optional(z.array(z.lazy(() =>
        ComCrmSubscriptionSelfServiceResourceAddServiceComponent$outboundSchema
      ))),
      devices: z.optional(z.array(z.lazy(() =>
        ComCrmSubscriptionSelfServiceResourceAddServiceDevice$outboundSchema
      ))),
    }),
    z.transform((v) => {
      return remap$(v, {
        productId: "product_id",
        priceTermsId: "price_terms_id",
      });
    }),
  );

export function comCrmSubscriptionSelfServiceResourceAddServiceServiceToJSON(
  comCrmSubscriptionSelfServiceResourceAddServiceService:
    ComCrmSubscriptionSelfServiceResourceAddServiceService,
): string {
  return JSON.stringify(
    ComCrmSubscriptionSelfServiceResourceAddServiceService$outboundSchema.parse(
      comCrmSubscriptionSelfServiceResourceAddServiceService,
    ),
  );
}

/** @internal */
export const ComCrmSubscriptionSelfServiceResourceAddServicePaymentMethodType$outboundSchema:
  z.ZodMiniEnum<
    typeof ComCrmSubscriptionSelfServiceResourceAddServicePaymentMethodType
  > = z.enum(ComCrmSubscriptionSelfServiceResourceAddServicePaymentMethodType);

/** @internal */
export type ComCrmSubscriptionSelfServiceResourceAddServiceRequestBody$Outbound =
  {
    scheduled_date?: number | undefined;
    pass?:
      | ComCrmSubscriptionSelfServiceResourceAddServicePass$Outbound
      | undefined;
    services?:
      | Array<ComCrmSubscriptionSelfServiceResourceAddServiceService$Outbound>
      | undefined;
    payment_method_id?: string | undefined;
    payment_method_type?: string | undefined;
  };

/** @internal */
export const ComCrmSubscriptionSelfServiceResourceAddServiceRequestBody$outboundSchema:
  z.ZodMiniType<
    ComCrmSubscriptionSelfServiceResourceAddServiceRequestBody$Outbound,
    ComCrmSubscriptionSelfServiceResourceAddServiceRequestBody
  > = z.pipe(
    z.object({
      scheduledDate: z.optional(z.int()),
      pass: z.optional(z.lazy(() =>
        ComCrmSubscriptionSelfServiceResourceAddServicePass$outboundSchema
      )),
      services: z.optional(z.array(z.lazy(() =>
        ComCrmSubscriptionSelfServiceResourceAddServiceService$outboundSchema
      ))),
      paymentMethodId: z.optional(z.string()),
      paymentMethodType: z.optional(
        ComCrmSubscriptionSelfServiceResourceAddServicePaymentMethodType$outboundSchema,
      ),
    }),
    z.transform((v) => {
      return remap$(v, {
        scheduledDate: "scheduled_date",
        paymentMethodId: "payment_method_id",
        paymentMethodType: "payment_method_type",
      });
    }),
  );

export function comCrmSubscriptionSelfServiceResourceAddServiceRequestBodyToJSON(
  comCrmSubscriptionSelfServiceResourceAddServiceRequestBody:
    ComCrmSubscriptionSelfServiceResourceAddServiceRequestBody,
): string {
  return JSON.stringify(
    ComCrmSubscriptionSelfServiceResourceAddServiceRequestBody$outboundSchema
      .parse(comCrmSubscriptionSelfServiceResourceAddServiceRequestBody),
  );
}

/** @internal */
export type ComCrmSubscriptionSelfServiceResourceAddServiceRequest$Outbound = {
  id: string;
  body?:
    | ComCrmSubscriptionSelfServiceResourceAddServiceRequestBody$Outbound
    | undefined;
};

/** @internal */
export const ComCrmSubscriptionSelfServiceResourceAddServiceRequest$outboundSchema:
  z.ZodMiniType<
    ComCrmSubscriptionSelfServiceResourceAddServiceRequest$Outbound,
    ComCrmSubscriptionSelfServiceResourceAddServiceRequest
  > = z.object({
    id: z.string(),
    body: z.optional(
      z.lazy(() =>
        ComCrmSubscriptionSelfServiceResourceAddServiceRequestBody$outboundSchema
      ),
    ),
  });

export function comCrmSubscriptionSelfServiceResourceAddServiceRequestToJSON(
  comCrmSubscriptionSelfServiceResourceAddServiceRequest:
    ComCrmSubscriptionSelfServiceResourceAddServiceRequest,
): string {
  return JSON.stringify(
    ComCrmSubscriptionSelfServiceResourceAddServiceRequest$outboundSchema.parse(
      comCrmSubscriptionSelfServiceResourceAddServiceRequest,
    ),
  );
}

/** @internal */
export const ComCrmSubscriptionSelfServiceResourceAddServiceResponse$inboundSchema:
  z.ZodMiniType<
    ComCrmSubscriptionSelfServiceResourceAddServiceResponse,
    unknown
  > = z.object({
    id: types.optional(types.string()),
  });

export function comCrmSubscriptionSelfServiceResourceAddServiceResponseFromJSON(
  jsonString: string,
): SafeParseResult<
  ComCrmSubscriptionSelfServiceResourceAddServiceResponse,
  SDKValidationError
> {
  return safeParse(
    jsonString,
    (x) =>
      ComCrmSubscriptionSelfServiceResourceAddServiceResponse$inboundSchema
        .parse(JSON.parse(x)),
    `Failed to parse 'ComCrmSubscriptionSelfServiceResourceAddServiceResponse' from JSON`,
  );
}
