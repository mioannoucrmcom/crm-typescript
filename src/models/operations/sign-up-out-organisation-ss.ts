/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 * @generated-id: 9376c5125c3f
 */

import * as z from "zod/v4-mini";
import { remap as remap$ } from "../../lib/primitives.js";
import { safeParse } from "../../lib/schemas.js";
import * as openEnums from "../../types/enums.js";
import { ClosedEnum, OpenEnum } from "../../types/enums.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import * as types from "../../types/primitives.js";
import { SDKValidationError } from "../errors/sdk-validation-error.js";

/**
 * The action to be taken
 */
export const SignUpOutOrganisationSSAction = {
  Signup: "SIGNUP",
  Signoff: "SIGNOFF",
} as const;
/**
 * The action to be taken
 */
export type SignUpOutOrganisationSSAction = ClosedEnum<
  typeof SignUpOutOrganisationSSAction
>;

export type SignUpOutOrganisationSSRequestBody = {
  /**
   * The action to be taken
   */
  action: SignUpOutOrganisationSSAction;
  /**
   * The organisation identifier on which the action will be applied
   */
  organisationId: string;
  /**
   * Defines whether the contact has accepted the client service (applicable only if action is SIGNUP)
   */
  serviceAcceptance?: boolean | null | undefined;
  /**
   * The contact setting for receiving emails (applicable only if action is SIGNUP)
   */
  emailOptOut?: boolean | null | undefined;
  /**
   * The contact setting for receiving sms (applicable only if action is SIGNUP)
   */
  smsOptOut?: boolean | null | undefined;
  /**
   * The code that will be used for awarding referral events (applicable only if action is SIGNUP)
   */
  referralCode?: string | undefined;
};

export type SignUpOutOrganisationSSRequest = {
  /**
   * The contact (registry) id to sign up/out
   */
  id: string;
  body?: SignUpOutOrganisationSSRequestBody | undefined;
};

/**
 * Contact type - can be PERSON or COMPANY
 */
export const SignUpOutOrganisationSSContactType = {
  Person: "PERSON",
  Company: "COMPANY",
} as const;
/**
 * Contact type - can be PERSON or COMPANY
 */
export type SignUpOutOrganisationSSContactType = OpenEnum<
  typeof SignUpOutOrganisationSSContactType
>;

export type SignUpOutOrganisationSSContact = {
  /**
   * The entity identifier
   */
  id?: string | undefined;
  /**
   * Contact type - can be PERSON or COMPANY
   */
  type?: SignUpOutOrganisationSSContactType | undefined;
  /**
   * The contact’s first name
   */
  firstName?: string | undefined;
  /**
   * The contact’s last name
   */
  lastName?: string | undefined;
  /**
   * Defines whether the used identity is verified
   */
  isVerified?: boolean | undefined;
  /**
   * The company name if the contact type is 'COMPANY'
   */
  companyName?: string | undefined;
};

/**
 * The organisation type
 */
export const SignUpOutOrganisationSSOrganisationType = {
  Operator: "OPERATOR",
  ServiceOwner: "SERVICE_OWNER",
  TransactionProcessor: "TRANSACTION_PROCESSOR",
  Business: "BUSINESS",
  Organisation: "ORGANISATION",
  Merchant: "MERCHANT",
  Venue: "VENUE",
} as const;
/**
 * The organisation type
 */
export type SignUpOutOrganisationSSOrganisationType = OpenEnum<
  typeof SignUpOutOrganisationSSOrganisationType
>;

export type SignUpOutOrganisationSSOrganisation = {
  /**
   * The entity identifier
   */
  id?: string | undefined;
  /**
   * The organisation type
   */
  type?: SignUpOutOrganisationSSOrganisationType | undefined;
  /**
   * The organisation name
   */
  name?: string | undefined;
};

/**
 * OK
 */
export type SignUpOutOrganisationSSResponse = {
  accessToken?: string | undefined;
  refreshToken?: string | undefined;
  exp?: Date | undefined;
  contact?: SignUpOutOrganisationSSContact | undefined;
  organisations?: Array<SignUpOutOrganisationSSOrganisation> | undefined;
};

/** @internal */
export const SignUpOutOrganisationSSAction$outboundSchema: z.ZodMiniEnum<
  typeof SignUpOutOrganisationSSAction
> = z.enum(SignUpOutOrganisationSSAction);

/** @internal */
export type SignUpOutOrganisationSSRequestBody$Outbound = {
  action: string;
  organisation_id: string;
  service_acceptance: boolean | null;
  email_opt_out: boolean | null;
  sms_opt_out: boolean | null;
  referral_code?: string | undefined;
};

/** @internal */
export const SignUpOutOrganisationSSRequestBody$outboundSchema: z.ZodMiniType<
  SignUpOutOrganisationSSRequestBody$Outbound,
  SignUpOutOrganisationSSRequestBody
> = z.pipe(
  z.object({
    action: SignUpOutOrganisationSSAction$outboundSchema,
    organisationId: z.string(),
    serviceAcceptance: z.nullable(z._default(z.boolean(), true)),
    emailOptOut: z.nullable(z._default(z.boolean(), false)),
    smsOptOut: z.nullable(z._default(z.boolean(), false)),
    referralCode: z.optional(z.string()),
  }),
  z.transform((v) => {
    return remap$(v, {
      organisationId: "organisation_id",
      serviceAcceptance: "service_acceptance",
      emailOptOut: "email_opt_out",
      smsOptOut: "sms_opt_out",
      referralCode: "referral_code",
    });
  }),
);

export function signUpOutOrganisationSSRequestBodyToJSON(
  signUpOutOrganisationSSRequestBody: SignUpOutOrganisationSSRequestBody,
): string {
  return JSON.stringify(
    SignUpOutOrganisationSSRequestBody$outboundSchema.parse(
      signUpOutOrganisationSSRequestBody,
    ),
  );
}

/** @internal */
export type SignUpOutOrganisationSSRequest$Outbound = {
  id: string;
  body?: SignUpOutOrganisationSSRequestBody$Outbound | undefined;
};

/** @internal */
export const SignUpOutOrganisationSSRequest$outboundSchema: z.ZodMiniType<
  SignUpOutOrganisationSSRequest$Outbound,
  SignUpOutOrganisationSSRequest
> = z.object({
  id: z.string(),
  body: z.optional(
    z.lazy(() => SignUpOutOrganisationSSRequestBody$outboundSchema),
  ),
});

export function signUpOutOrganisationSSRequestToJSON(
  signUpOutOrganisationSSRequest: SignUpOutOrganisationSSRequest,
): string {
  return JSON.stringify(
    SignUpOutOrganisationSSRequest$outboundSchema.parse(
      signUpOutOrganisationSSRequest,
    ),
  );
}

/** @internal */
export const SignUpOutOrganisationSSContactType$inboundSchema: z.ZodMiniType<
  SignUpOutOrganisationSSContactType,
  unknown
> = openEnums.inboundSchema(SignUpOutOrganisationSSContactType);

/** @internal */
export const SignUpOutOrganisationSSContact$inboundSchema: z.ZodMiniType<
  SignUpOutOrganisationSSContact,
  unknown
> = z.pipe(
  z.object({
    id: types.optional(types.string()),
    type: types.optional(SignUpOutOrganisationSSContactType$inboundSchema),
    first_name: types.optional(types.string()),
    last_name: types.optional(types.string()),
    is_verified: types.optional(types.boolean()),
    company_name: types.optional(types.string()),
  }),
  z.transform((v) => {
    return remap$(v, {
      "first_name": "firstName",
      "last_name": "lastName",
      "is_verified": "isVerified",
      "company_name": "companyName",
    });
  }),
);

export function signUpOutOrganisationSSContactFromJSON(
  jsonString: string,
): SafeParseResult<SignUpOutOrganisationSSContact, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => SignUpOutOrganisationSSContact$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'SignUpOutOrganisationSSContact' from JSON`,
  );
}

/** @internal */
export const SignUpOutOrganisationSSOrganisationType$inboundSchema:
  z.ZodMiniType<SignUpOutOrganisationSSOrganisationType, unknown> = openEnums
    .inboundSchema(SignUpOutOrganisationSSOrganisationType);

/** @internal */
export const SignUpOutOrganisationSSOrganisation$inboundSchema: z.ZodMiniType<
  SignUpOutOrganisationSSOrganisation,
  unknown
> = z.object({
  id: types.optional(types.string()),
  type: types.optional(SignUpOutOrganisationSSOrganisationType$inboundSchema),
  name: types.optional(types.string()),
});

export function signUpOutOrganisationSSOrganisationFromJSON(
  jsonString: string,
): SafeParseResult<SignUpOutOrganisationSSOrganisation, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) =>
      SignUpOutOrganisationSSOrganisation$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'SignUpOutOrganisationSSOrganisation' from JSON`,
  );
}

/** @internal */
export const SignUpOutOrganisationSSResponse$inboundSchema: z.ZodMiniType<
  SignUpOutOrganisationSSResponse,
  unknown
> = z.pipe(
  z.object({
    access_token: types.optional(types.string()),
    refresh_token: types.optional(types.string()),
    exp: types.optional(types.date()),
    contact: types.optional(
      z.lazy(() => SignUpOutOrganisationSSContact$inboundSchema),
    ),
    organisations: types.optional(
      z.array(z.lazy(() => SignUpOutOrganisationSSOrganisation$inboundSchema)),
    ),
  }),
  z.transform((v) => {
    return remap$(v, {
      "access_token": "accessToken",
      "refresh_token": "refreshToken",
    });
  }),
);

export function signUpOutOrganisationSSResponseFromJSON(
  jsonString: string,
): SafeParseResult<SignUpOutOrganisationSSResponse, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => SignUpOutOrganisationSSResponse$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'SignUpOutOrganisationSSResponse' from JSON`,
  );
}
