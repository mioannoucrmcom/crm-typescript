/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4-mini";
import { remap as remap$ } from "../../lib/primitives.js";
import { safeParse } from "../../lib/schemas.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import * as types from "../../types/primitives.js";
import { SDKValidationError } from "../errors/sdk-validation-error.js";

/**
 * The date on which such reading was performed (if not specified, current date will be set)
 */
export type Dates = {
  /**
   * The "from" date that the meter reading was captured
   */
  from?: number | undefined;
  /**
   * The "to" date that the meter reading was captured
   */
  to?: number | undefined;
};

export type ComCrmDeviceSelfServiceResourceCreateDeviceMeterReadingRequestBody =
  {
    /**
     * The meter reading that will be added to the device
     */
    reading: number;
    /**
     * The date on which such reading was performed (if not specified, current date will be set)
     */
    dates?: Dates | undefined;
  };

export type ComCrmDeviceSelfServiceResourceCreateDeviceMeterReadingRequest = {
  /**
   * The device (identifier) on which a new meter reading will be added
   */
  devId: string;
  /**
   * The contact (identifier) that creates a new meter reading
   */
  id: string;
  body?:
    | ComCrmDeviceSelfServiceResourceCreateDeviceMeterReadingRequestBody
    | undefined;
};

/**
 * Created
 */
export type ComCrmDeviceSelfServiceResourceCreateDeviceMeterReadingResponse = {
  /**
   * The entity identifier
   */
  id?: string | undefined;
};

/** @internal */
export type Dates$Outbound = {
  from?: number | undefined;
  to?: number | undefined;
};

/** @internal */
export const Dates$outboundSchema: z.ZodMiniType<Dates$Outbound, Dates> = z
  .object({
    from: z.optional(z.int()),
    to: z.optional(z.int()),
  });

export function datesToJSON(dates: Dates): string {
  return JSON.stringify(Dates$outboundSchema.parse(dates));
}

/** @internal */
export type ComCrmDeviceSelfServiceResourceCreateDeviceMeterReadingRequestBody$Outbound =
  {
    reading: number;
    dates?: Dates$Outbound | undefined;
  };

/** @internal */
export const ComCrmDeviceSelfServiceResourceCreateDeviceMeterReadingRequestBody$outboundSchema:
  z.ZodMiniType<
    ComCrmDeviceSelfServiceResourceCreateDeviceMeterReadingRequestBody$Outbound,
    ComCrmDeviceSelfServiceResourceCreateDeviceMeterReadingRequestBody
  > = z.object({
    reading: z.number(),
    dates: z.optional(z.lazy(() => Dates$outboundSchema)),
  });

export function comCrmDeviceSelfServiceResourceCreateDeviceMeterReadingRequestBodyToJSON(
  comCrmDeviceSelfServiceResourceCreateDeviceMeterReadingRequestBody:
    ComCrmDeviceSelfServiceResourceCreateDeviceMeterReadingRequestBody,
): string {
  return JSON.stringify(
    ComCrmDeviceSelfServiceResourceCreateDeviceMeterReadingRequestBody$outboundSchema
      .parse(
        comCrmDeviceSelfServiceResourceCreateDeviceMeterReadingRequestBody,
      ),
  );
}

/** @internal */
export type ComCrmDeviceSelfServiceResourceCreateDeviceMeterReadingRequest$Outbound =
  {
    dev_id: string;
    id: string;
    body?:
      | ComCrmDeviceSelfServiceResourceCreateDeviceMeterReadingRequestBody$Outbound
      | undefined;
  };

/** @internal */
export const ComCrmDeviceSelfServiceResourceCreateDeviceMeterReadingRequest$outboundSchema:
  z.ZodMiniType<
    ComCrmDeviceSelfServiceResourceCreateDeviceMeterReadingRequest$Outbound,
    ComCrmDeviceSelfServiceResourceCreateDeviceMeterReadingRequest
  > = z.pipe(
    z.object({
      devId: z.string(),
      id: z.string(),
      body: z.optional(z.lazy(() =>
        ComCrmDeviceSelfServiceResourceCreateDeviceMeterReadingRequestBody$outboundSchema
      )),
    }),
    z.transform((v) => {
      return remap$(v, {
        devId: "dev_id",
      });
    }),
  );

export function comCrmDeviceSelfServiceResourceCreateDeviceMeterReadingRequestToJSON(
  comCrmDeviceSelfServiceResourceCreateDeviceMeterReadingRequest:
    ComCrmDeviceSelfServiceResourceCreateDeviceMeterReadingRequest,
): string {
  return JSON.stringify(
    ComCrmDeviceSelfServiceResourceCreateDeviceMeterReadingRequest$outboundSchema
      .parse(comCrmDeviceSelfServiceResourceCreateDeviceMeterReadingRequest),
  );
}

/** @internal */
export const ComCrmDeviceSelfServiceResourceCreateDeviceMeterReadingResponse$inboundSchema:
  z.ZodMiniType<
    ComCrmDeviceSelfServiceResourceCreateDeviceMeterReadingResponse,
    unknown
  > = z.object({
    id: types.optional(types.string()),
  });

export function comCrmDeviceSelfServiceResourceCreateDeviceMeterReadingResponseFromJSON(
  jsonString: string,
): SafeParseResult<
  ComCrmDeviceSelfServiceResourceCreateDeviceMeterReadingResponse,
  SDKValidationError
> {
  return safeParse(
    jsonString,
    (x) =>
      ComCrmDeviceSelfServiceResourceCreateDeviceMeterReadingResponse$inboundSchema
        .parse(JSON.parse(x)),
    `Failed to parse 'ComCrmDeviceSelfServiceResourceCreateDeviceMeterReadingResponse' from JSON`,
  );
}
