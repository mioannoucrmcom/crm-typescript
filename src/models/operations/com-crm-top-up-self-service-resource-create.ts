/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4-mini";
import { remap as remap$ } from "../../lib/primitives.js";
import { safeParse } from "../../lib/schemas.js";
import { ClosedEnum } from "../../types/enums.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import * as types from "../../types/primitives.js";
import { SDKValidationError } from "../errors/sdk-validation-error.js";

export type ComCrmTopUpSelfServiceResourceCreateSecurity = {
  publicAPIKey: string;
};

/**
 * The payment method
 */
export const ComCrmTopUpSelfServiceResourceCreateType = {
  AccountDebit: "ACCOUNT_DEBIT",
  Card: "CARD",
  A2A: "A2A",
  Wallet: "WALLET",
  OneTimeCardPayment: "ONE_TIME_CARD_PAYMENT",
} as const;
/**
 * The payment method
 */
export type ComCrmTopUpSelfServiceResourceCreateType = ClosedEnum<
  typeof ComCrmTopUpSelfServiceResourceCreateType
>;

/**
 * The top up’s payment method
 */
export type ComCrmTopUpSelfServiceResourceCreatePaymentMethod = {
  /**
   * The ID of the actual payment method, if any. Applicable only when the wallet is toped-up using a Card
   */
  id?: string | undefined;
  /**
   * The payment method
   */
  type?: ComCrmTopUpSelfServiceResourceCreateType | undefined;
};

/**
 * A list of custom fields whose values can be set when creating or updating entities
 */
export type ComCrmTopUpSelfServiceResourceCreateCustomField = {
  /**
   * The custom field’s unique key
   */
  key?: string | undefined;
  /**
   * The custom field’s value
   */
  value?: string | undefined;
};

export type ComCrmTopUpSelfServiceResourceCreateRequest = {
  /**
   * The entity identifier that will be created
   */
  id?: string | undefined;
  /**
   * The wallet (identifier) that will be topped-up
   */
  walletId?: string | undefined;
  /**
   * If not specified, then the current date is set
   */
  topupDate?: number | undefined;
  /**
   * The topup’s amount
   */
  amount: number;
  /**
   * The top up’s code. If not specified, then a unique 16-digit code is assigned
   */
  code?: string | undefined;
  /**
   * The top up’s payment method
   */
  paymentMethod?: ComCrmTopUpSelfServiceResourceCreatePaymentMethod | undefined;
  /**
   * The payment client secret that is returned by a payment gateway integrator
   */
  clientSecret?: string | undefined;
  /**
   * The commerce pool identifier
   */
  commercePoolId?: string | undefined;
  /**
   * Custom fields relevant to this top up
   */
  customFields?:
    | Array<ComCrmTopUpSelfServiceResourceCreateCustomField>
    | undefined;
  /**
   * A note regarding the top-up transaction.
   */
  notes?: string | null | undefined;
};

export type ComCrmTopUpSelfServiceResourceCreateResponse = {
  /**
   * The entity identifier
   */
  id?: string | undefined;
};

/** @internal */
export type ComCrmTopUpSelfServiceResourceCreateSecurity$Outbound = {
  Public_API_key: string;
};

/** @internal */
export const ComCrmTopUpSelfServiceResourceCreateSecurity$outboundSchema:
  z.ZodMiniType<
    ComCrmTopUpSelfServiceResourceCreateSecurity$Outbound,
    ComCrmTopUpSelfServiceResourceCreateSecurity
  > = z.pipe(
    z.object({
      publicAPIKey: z.string(),
    }),
    z.transform((v) => {
      return remap$(v, {
        publicAPIKey: "Public_API_key",
      });
    }),
  );

export function comCrmTopUpSelfServiceResourceCreateSecurityToJSON(
  comCrmTopUpSelfServiceResourceCreateSecurity:
    ComCrmTopUpSelfServiceResourceCreateSecurity,
): string {
  return JSON.stringify(
    ComCrmTopUpSelfServiceResourceCreateSecurity$outboundSchema.parse(
      comCrmTopUpSelfServiceResourceCreateSecurity,
    ),
  );
}

/** @internal */
export const ComCrmTopUpSelfServiceResourceCreateType$outboundSchema:
  z.ZodMiniEnum<typeof ComCrmTopUpSelfServiceResourceCreateType> = z.enum(
    ComCrmTopUpSelfServiceResourceCreateType,
  );

/** @internal */
export type ComCrmTopUpSelfServiceResourceCreatePaymentMethod$Outbound = {
  id?: string | undefined;
  type?: string | undefined;
};

/** @internal */
export const ComCrmTopUpSelfServiceResourceCreatePaymentMethod$outboundSchema:
  z.ZodMiniType<
    ComCrmTopUpSelfServiceResourceCreatePaymentMethod$Outbound,
    ComCrmTopUpSelfServiceResourceCreatePaymentMethod
  > = z.object({
    id: z.optional(z.string()),
    type: z.optional(ComCrmTopUpSelfServiceResourceCreateType$outboundSchema),
  });

export function comCrmTopUpSelfServiceResourceCreatePaymentMethodToJSON(
  comCrmTopUpSelfServiceResourceCreatePaymentMethod:
    ComCrmTopUpSelfServiceResourceCreatePaymentMethod,
): string {
  return JSON.stringify(
    ComCrmTopUpSelfServiceResourceCreatePaymentMethod$outboundSchema.parse(
      comCrmTopUpSelfServiceResourceCreatePaymentMethod,
    ),
  );
}

/** @internal */
export type ComCrmTopUpSelfServiceResourceCreateCustomField$Outbound = {
  key?: string | undefined;
  value?: string | undefined;
};

/** @internal */
export const ComCrmTopUpSelfServiceResourceCreateCustomField$outboundSchema:
  z.ZodMiniType<
    ComCrmTopUpSelfServiceResourceCreateCustomField$Outbound,
    ComCrmTopUpSelfServiceResourceCreateCustomField
  > = z.object({
    key: z.optional(z.string()),
    value: z.optional(z.string()),
  });

export function comCrmTopUpSelfServiceResourceCreateCustomFieldToJSON(
  comCrmTopUpSelfServiceResourceCreateCustomField:
    ComCrmTopUpSelfServiceResourceCreateCustomField,
): string {
  return JSON.stringify(
    ComCrmTopUpSelfServiceResourceCreateCustomField$outboundSchema.parse(
      comCrmTopUpSelfServiceResourceCreateCustomField,
    ),
  );
}

/** @internal */
export type ComCrmTopUpSelfServiceResourceCreateRequest$Outbound = {
  id?: string | undefined;
  wallet_id?: string | undefined;
  topup_date?: number | undefined;
  amount: number;
  code?: string | undefined;
  payment_method?:
    | ComCrmTopUpSelfServiceResourceCreatePaymentMethod$Outbound
    | undefined;
  client_secret?: string | undefined;
  commerce_pool_id?: string | undefined;
  custom_fields?:
    | Array<ComCrmTopUpSelfServiceResourceCreateCustomField$Outbound>
    | undefined;
  notes?: string | null | undefined;
};

/** @internal */
export const ComCrmTopUpSelfServiceResourceCreateRequest$outboundSchema:
  z.ZodMiniType<
    ComCrmTopUpSelfServiceResourceCreateRequest$Outbound,
    ComCrmTopUpSelfServiceResourceCreateRequest
  > = z.pipe(
    z.object({
      id: z.optional(z.string()),
      walletId: z.optional(z.string()),
      topupDate: z.optional(z.int()),
      amount: z.number(),
      code: z.optional(z.string()),
      paymentMethod: z.optional(z.lazy(() =>
        ComCrmTopUpSelfServiceResourceCreatePaymentMethod$outboundSchema
      )),
      clientSecret: z.optional(z.string()),
      commercePoolId: z.optional(z.string()),
      customFields: z.optional(z.array(z.lazy(() =>
        ComCrmTopUpSelfServiceResourceCreateCustomField$outboundSchema
      ))),
      notes: z.optional(z.nullable(z.string())),
    }),
    z.transform((v) => {
      return remap$(v, {
        walletId: "wallet_id",
        topupDate: "topup_date",
        paymentMethod: "payment_method",
        clientSecret: "client_secret",
        commercePoolId: "commerce_pool_id",
        customFields: "custom_fields",
      });
    }),
  );

export function comCrmTopUpSelfServiceResourceCreateRequestToJSON(
  comCrmTopUpSelfServiceResourceCreateRequest:
    ComCrmTopUpSelfServiceResourceCreateRequest,
): string {
  return JSON.stringify(
    ComCrmTopUpSelfServiceResourceCreateRequest$outboundSchema.parse(
      comCrmTopUpSelfServiceResourceCreateRequest,
    ),
  );
}

/** @internal */
export const ComCrmTopUpSelfServiceResourceCreateResponse$inboundSchema:
  z.ZodMiniType<ComCrmTopUpSelfServiceResourceCreateResponse, unknown> = z
    .object({
      id: types.optional(types.string()),
    });

export function comCrmTopUpSelfServiceResourceCreateResponseFromJSON(
  jsonString: string,
): SafeParseResult<
  ComCrmTopUpSelfServiceResourceCreateResponse,
  SDKValidationError
> {
  return safeParse(
    jsonString,
    (x) =>
      ComCrmTopUpSelfServiceResourceCreateResponse$inboundSchema.parse(
        JSON.parse(x),
      ),
    `Failed to parse 'ComCrmTopUpSelfServiceResourceCreateResponse' from JSON`,
  );
}
