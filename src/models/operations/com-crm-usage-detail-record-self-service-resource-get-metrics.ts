/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4-mini";
import { remap as remap$ } from "../../lib/primitives.js";
import { safeParse } from "../../lib/schemas.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import * as types from "../../types/primitives.js";
import { SDKValidationError } from "../errors/sdk-validation-error.js";

export type ComCrmUsageDetailRecordSelfServiceResourceGetMetricsRequest = {
  /**
   * The contact identifier that the usage records metrics will be retrieved for
   */
  id: string;
  /**
   * Filter based on the created date, which may fall within a given date range. The value can be a string with a date in epoch format. Each option must also include an operator. Use up to two options based on the required search (e.g. created_on[gte]=1618395497&created_on[lt]=1618395497).
   */
  createdOn?: number | undefined;
  /**
   * Returns results where the created date is greater than this value
   */
  createdOnGt?: number | undefined;
  /**
   * Returns results where the created date is greater than or equal to this value
   */
  createdOnGte?: number | undefined;
  /**
   * Returns results where the created date is less than this value
   */
  createdOnLt?: number | undefined;
  /**
   * Returns results where the created date is less than or equal to this value
   */
  createdOnLte?: number | undefined;
};

export type ComCrmUsageDetailRecordSelfServiceResourceGetMetricsProduct = {
  /**
   * The entity identifier
   */
  id?: string | undefined;
  /**
   * The entity name
   */
  name?: string | undefined;
  /**
   * The entity sku
   */
  sku?: string | undefined;
};

/**
 * OK
 */
export type ComCrmUsageDetailRecordSelfServiceResourceGetMetricsResponse = {
  product?:
    | ComCrmUsageDetailRecordSelfServiceResourceGetMetricsProduct
    | undefined;
  amount?: number | undefined;
};

/** @internal */
export type ComCrmUsageDetailRecordSelfServiceResourceGetMetricsRequest$Outbound =
  {
    id: string;
    created_on?: number | undefined;
    "created_on[gt]"?: number | undefined;
    "created_on[gte]"?: number | undefined;
    "created_on[lt]"?: number | undefined;
    "created_on[lte]"?: number | undefined;
  };

/** @internal */
export const ComCrmUsageDetailRecordSelfServiceResourceGetMetricsRequest$outboundSchema:
  z.ZodMiniType<
    ComCrmUsageDetailRecordSelfServiceResourceGetMetricsRequest$Outbound,
    ComCrmUsageDetailRecordSelfServiceResourceGetMetricsRequest
  > = z.pipe(
    z.object({
      id: z.string(),
      createdOn: z.optional(z.int()),
      createdOnGt: z.optional(z.int()),
      createdOnGte: z.optional(z.int()),
      createdOnLt: z.optional(z.int()),
      createdOnLte: z.optional(z.int()),
    }),
    z.transform((v) => {
      return remap$(v, {
        createdOn: "created_on",
        createdOnGt: "created_on[gt]",
        createdOnGte: "created_on[gte]",
        createdOnLt: "created_on[lt]",
        createdOnLte: "created_on[lte]",
      });
    }),
  );

export function comCrmUsageDetailRecordSelfServiceResourceGetMetricsRequestToJSON(
  comCrmUsageDetailRecordSelfServiceResourceGetMetricsRequest:
    ComCrmUsageDetailRecordSelfServiceResourceGetMetricsRequest,
): string {
  return JSON.stringify(
    ComCrmUsageDetailRecordSelfServiceResourceGetMetricsRequest$outboundSchema
      .parse(comCrmUsageDetailRecordSelfServiceResourceGetMetricsRequest),
  );
}

/** @internal */
export const ComCrmUsageDetailRecordSelfServiceResourceGetMetricsProduct$inboundSchema:
  z.ZodMiniType<
    ComCrmUsageDetailRecordSelfServiceResourceGetMetricsProduct,
    unknown
  > = z.object({
    id: types.optional(types.string()),
    name: types.optional(types.string()),
    sku: types.optional(types.string()),
  });

export function comCrmUsageDetailRecordSelfServiceResourceGetMetricsProductFromJSON(
  jsonString: string,
): SafeParseResult<
  ComCrmUsageDetailRecordSelfServiceResourceGetMetricsProduct,
  SDKValidationError
> {
  return safeParse(
    jsonString,
    (x) =>
      ComCrmUsageDetailRecordSelfServiceResourceGetMetricsProduct$inboundSchema
        .parse(JSON.parse(x)),
    `Failed to parse 'ComCrmUsageDetailRecordSelfServiceResourceGetMetricsProduct' from JSON`,
  );
}

/** @internal */
export const ComCrmUsageDetailRecordSelfServiceResourceGetMetricsResponse$inboundSchema:
  z.ZodMiniType<
    ComCrmUsageDetailRecordSelfServiceResourceGetMetricsResponse,
    unknown
  > = z.object({
    product: types.optional(
      z.lazy(() =>
        ComCrmUsageDetailRecordSelfServiceResourceGetMetricsProduct$inboundSchema
      ),
    ),
    amount: types.optional(types.number()),
  });

export function comCrmUsageDetailRecordSelfServiceResourceGetMetricsResponseFromJSON(
  jsonString: string,
): SafeParseResult<
  ComCrmUsageDetailRecordSelfServiceResourceGetMetricsResponse,
  SDKValidationError
> {
  return safeParse(
    jsonString,
    (x) =>
      ComCrmUsageDetailRecordSelfServiceResourceGetMetricsResponse$inboundSchema
        .parse(JSON.parse(x)),
    `Failed to parse 'ComCrmUsageDetailRecordSelfServiceResourceGetMetricsResponse' from JSON`,
  );
}
